

import numpy as np
import matplotlib.pyplot as plt

epsilon = 3
beta = 1 / epsilon


y_bfu_back_acc = [0.699999988079071, 0.65000003576278 , 0.650000035762786, 0.550000011920929, 0.349999994039535, 0.300000011920928, 0.5              , 0.450000017881393, 0.300000011920928, 0.400000005960464, 0.150000005960464, 0.300000011920928, 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              ,]
y_bfu_acc      = [0.900000035762786, 0.900000035762786, 0.949999988079071, 0.850000023841857, 0.949999988079071, 0.800000011920929, 0.800000011920929, 0.75             , 0.699999988079071, 0.800000011920929, 0.850000023841857, 0.699999988079071, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.900000035762786]
y_vibu_back_acc= [0.75             , 0.550000011920929, 0.699999988079071, 0.5              , 0.5              , 0.550000011920929, 0.200000002980232, 0.25             , 0.150000005960464, 0.200000002980232, 0.349999994039535, 0.25             , 0.25             , 0.050000000745058, 0.100000001490116, 0.100000001490116, 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              ,]
y_vibu_acc     = [0.800000011920929, 0.800000011920929, 0.850000023841857, 0.800000011920929, 0.75             , 0.800000011920929, 0.900000035762786, 0.75             , 0.75             , 0.900000035762786, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.75             , 0.699999988079071, 0.900000035762786, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071, 0.949999988079071]
y_ss_back_acc  = [0.650000035762786, 0.650000035762786, 0.650000035762786, 0.600000023841857, 0.699999988079071, 0.75             , 0.550000011920929, 0.550000011920929, 0.550000011920929, 0.550000011920929, 0.550000011920929, 0.450000017881393, 0.650000035762786, 0.400000005960464, 0.550000011920929, 0.5              , 0.5              , 0.349999994039535, 0.400000005960464, 0.300000011920928, 0.300000011920928, 0.25             , 0.400000005960464, 0.200000002980232, 0.400000005960464, 0.100000001490116, 0.200000002980232, 0.100000001490116, 0.050000000745058, 0.100000001490116, 0.200000002980232, 0.050000000745058, 0.100000001490116, 0.050000000745058, 0.200000002980232, 0.100000001490116, 0.0]
y_ss_acc       = [0.850000023841857, 0.800000011920929, 0.850000023841857, 0.650000035762786, 0.800000011920929, 0.800000011920929, 1.0              , 0.699999988079071, 0.949999988079071, 0.949999988079071, 0.699999988079071, 0.650000035762786, 0.800000011920929, 0.75             , 0.850000023841857, 0.850000023841857, 1.0              , 0.949999988079071, 0.800000011920929, 0.900000035762786, 0.900000035762786, 0.900000035762786, 0.850000023841857, 0.900000035762786, 0.900000035762786, 0.75             , 0.850000023841857, 0.900000035762786, 0.949999988079071, 0.800000011920929, 0.699999988079071, 0.949999988079071, 0.800000011920929, 0.800000011920929, 0.800000011920929, 0.75             , 0.6500000357627869]
y_hfu_back_acc = [0.600000023841857, 0.699999988079071, 0.550000011920929, 0.600000023841857, 0.450000017881393, 0.450000017881393, 0.25             , 0.400000005960464, 0.5              , 0.300000011920928, 0.150000005960464, 0.200000002980232, 0.100000001490116, 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              , 0.0              ,]
y_hfu_acc      = [0.949999988079071, 0.800000011920929, 0.800000011920929, 0.699999988079071, 0.900000035762786, 0.75             , 0.850000023841857, 0.850000023841857, 0.800000011920929, 0.949999988079071, 0.900000035762786, 0.900000035762786, 0.949999988079071, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, 0.650000035762786, ]


x=[]
y_unl_s = []
y_unl_self_s =[]
y_nips_rkl_s =[]
y_hessian_30_s =[]
for i in range(37):
    # print(np.random.laplace(0, 1)/10+0.2)
    x.append(i)
    #y_fkl[i] = y_fkl[i*2]*100
    y_bfu_back_acc[i] = y_bfu_back_acc[i]*100
    y_bfu_acc[i] = y_bfu_acc[i]*100
    y_vibu_back_acc[i] = y_vibu_back_acc[i]*100
    y_vibu_acc[i] = y_vibu_acc[i]*100
    y_ss_back_acc[i] = y_ss_back_acc[i]*100
    y_ss_acc[i] = y_ss_acc[i]*100
    # y_hfu_back_acc[i] = y_hfu_back_acc[i]*100
    # y_hfu_acc[i] = y_hfu_acc[i]*100


plt.figure()
plt.plot(x, y_bfu_acc, color='orange',  marker='x',  label='VIBU',linewidth=4,  markersize=10)
plt.plot(x, y_ss_acc, color='g',  marker='*',  label='VIBU-SS',linewidth=4, markersize=10)
# #plt.plot(x, y_fkl, color='g',  marker='+',  label='VRFL')
plt.plot(x, y_vibu_acc, color='r',  marker='p',  label='HBU',linewidth=4, markersize=10)

# plt.plot(x, unl_fr, color='blue', marker='^', label='Retrain',linewidth=4, markersize=10)
# plt.plot(x, unl_br, color='orange',  marker='x',  label='BFU',linewidth=4,  markersize=10)
# plt.plot(x, unl_self_r, color='g',  marker='*',  label='BFU-SS',linewidth=4, markersize=10)
# plt.plot(x, unl_hess_r, color='r',  marker='p',  label='HFU',linewidth=4, markersize=10)

# plt.plot(x, y_unl_s, color='b', marker='^', label='Normal Bayessian Fed Unlearning',linewidth=3, markersize=8)
# plt.plot(x, y_unl_self_s, color='r',  marker='x',  label='Self-sharing Fed Unlearning',linewidth=3, markersize=8)
# #plt.plot(x, y_fkl, color='g',  marker='+',  label='VRFL')
# plt.plot(x, y_hessian_30_s, color='y',  marker='*',  label='Unlearning INFOCOM22',linewidth=3, markersize=8)


#plt.grid()
leg = plt.legend(fancybox=True, shadow=True)
plt.xlabel('Epoch' ,fontsize=20)
plt.ylabel('Accuracy (%)' ,fontsize=20)
my_y_ticks = np.arange(0 ,105,20)
plt.yticks(my_y_ticks,fontsize=20)
plt.xticks(x,fontsize=20)
# plt.title('CIFAR10 IID')
plt.legend(loc='best',fontsize=20)
plt.tight_layout()
#plt.title("Fashion MNIST")
plt.rcParams['figure.figsize'] = (2.0, 1)
plt.rcParams['image.interpolation'] = 'nearest'
plt.rcParams['figure.subplot.left'] = 0.11
plt.rcParams['figure.subplot.bottom'] = 0.08
plt.rcParams['figure.subplot.right'] = 0.977
plt.rcParams['figure.subplot.top'] = 0.969
plt.savefig('cifar_client_detail_acc.png', dpi=200)
plt.show()